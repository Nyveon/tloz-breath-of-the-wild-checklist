<!DOCTYPE html>

<html data-theme="dark">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<meta
			name="description"
			content="Checklist website for tracking 100%+ completion of The Legend of Zelda: Breath of The Wild."
		/>
		<meta
			name="keywords"
			content="BOTW, TLOZ, Breath of the Wild, Checklist, Cheat Sheet"
		/>
		<meta name="author" content="Nyveon (Eric K.)" />

		<title>TLOZ: Breath of the Wild Checklist</title>

		<script
			defer
			src="https://cdn.jsdelivr.net/npm/alpinejs@3.11.1/dist/cdn.min.js"
		></script>

		<script
			defer
			src="https://cdn.jsdelivr.net/npm/@alpinejs/persist@3.11.1/dist/module.cjs.min.js"
		></script>

		<script src="js/index.js"></script>

		<link rel="stylesheet" href="css/main.css" />
	</head>

	<body>
		<header>
			<h1>TLOZ: Breath of the Wild Checklist</h1>

			<nav>
				<ul>
					<li><a href="#" role="button">Quests</a></li>
					<li><a href="#" role="button">Compendium</a></li>
					<li><a href="#" role="button">Completion</a></li>
					<li><a href="#" role="button">Settings</a></li>
				</ul>
			</nav>
		</header>

		<main>
			<section
				class="quests"
				x-data="{ 
					categories: [],
					search: '',
					get filteredQuests() {
						return this.categories.map(category => {
							return {
								...category,
								quests: category.quests.filter(quest => {
									return quest.name.toLowerCase().includes(this.search.toLowerCase());
								})
							}
						});
					}
				}"
				x-init="
					categories = await (await fetch('data/quests.json')).json();
				"
			>
				<input
					x-ref="searchField"
					x-model="search"
					placeholder="Search for a quest..."
					type="search"
				/>

				<template x-for="category in filteredQuests">
					<article>
						<div class="title">
							<img :src="category.icon" />
							<h1 x-text="category.name"></h1>
						</div>

						<ul class="quest-list">
							<template x-for="quest in category.quests">
								<li>
									<img :src="category.icon" />
									<hgroup>
										<span class="top"></span>
										<span class="bottom"></span>
										<h2 x-text="quest.name"></h2>
										<h5 x-text="quest.location" :class="category.type"></h5>
									</hgroup>
								</li>
							</template>
						</ul>
					</article>
				</template>
			</section>
		</main>

		<footer>
			<span>Page by Nyveon. (Eric K)</span>
			<span>credits to go here, currently in the readme</span>
		</footer>
	</body>
</html>
